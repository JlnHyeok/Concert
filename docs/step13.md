# 성능 개선을 위한 Redis 기반 캐싱 및 로직 이관 분석

본 문서는 성능 최적화를 위해 캐싱과 Redis 로직 이관을 적용할 수 있는 기능을 분석하고, 각각의 기능에 Redis를 활용하는 합리적인 이유와 기대 효과를 설명합니다.

---

## 13.1. 콘서트 좌석 조회 캐싱

### 기능 설명

- 콘서트 좌석 조회 기능은 사용자가 특정 콘서트의 좌석 배치와 예약 상태를 실시간으로 확인할 수 있도록 제공합니다.

### 성능 이슈

- 실시간으로 좌석 정보를 확인하는 사용자가 많을 경우, 데이터베이스에서 자주 조회하게 되어 DB 부하가 증가합니다.
- 특히 인기 콘서트나 대규모 콘서트에서는 조회 빈도가 매우 높아 성능 저하가 발생할 수 있습니다.

### Redis 캐싱을 적용한 성능 개선 방안

- **좌석 조회 시 Redis 캐시에 조회 결과를 저장**하여 동일한 좌석 정보를 반복적으로 DB에서 조회하지 않도록 합니다.
- **TTL (Time-To-Live)**을 설정해 일정 시간 후 캐시를 자동으로 무효화하고, DB에서 갱신된 데이터를 캐시하는 방식으로 캐시 일관성을 유지합니다.

### 기대 효과

- **DB 부하 감소**: 동일한 좌석 조회 요청에 대해 캐시 데이터를 반환함으로써 DB 부하를 크게 줄일 수 있습니다.
- **응답 속도 개선**: 캐시 조회는 DB 조회보다 훨씬 빠르기 때문에 사용자에게 빠른 응답을 제공합니다.
- **일관성 유지**: TTL 설정을 통해 좌석 정보가 주기적으로 갱신되어 데이터 일관성을 유지할 수 있습니다.

---

## 13.2. 콘서트 날짜 조회 캐싱

### 기능 설명

- 콘서트 날짜 조회 기능은 특정 공연의 일정과 예매 가능 여부를 사용자에게 제공합니다.

### 성능 이슈

- 여러 콘서트의 일정 정보를 동시에 확인하는 경우가 많아 DB 조회가 빈번하게 발생할 수 있습니다.
- 공연 일정 정보는 자주 변경되지 않지만, 조회 빈도는 높은 편이므로 적절한 캐싱 전략이 필요합니다.

### Redis 캐싱을 적용한 성능 개선 방안

- **콘서트 날짜 조회 결과를 Redis에 캐싱**하여 DB 조회를 최소화하고 응답 속도를 높입니다.
- 공연 일정이 자주 변경되지 않으므로 TTL을 길게 설정해도 일관성을 유지할 수 있습니다. 공연 일정 변경 시 수동으로 캐시를 무효화하는 방식도 고려할 수 있습니다.

### 기대 효과

- **DB 부하 감소**: 자주 조회되는 공연 일정 정보를 캐싱함으로써 DB의 처리 부담을 경감할 수 있습니다.
- **빠른 응답 속도**: 캐시된 일정 데이터를 빠르게 반환하여 사용자 경험을 향상시킬 수 있습니다.
- **데이터 일관성 유지 용이**: 공연 일정이 자주 변경되지 않으므로 TTL을 길게 설정하여 캐싱 효과를 극대화할 수 있습니다.

---

## 결론

Redis 기반의 캐싱 및 로직 이관을 통해 **콘서트 좌석 조회, 콘서트 날짜 조회, 그리고 대기열 기능의 성능을 크게 개선**할 수 있습니다. 이를 통해 **DB 부하 감소, 응답 속도 개선, 데이터 일관성 유지**의 장점을 얻을 수 있으며, 대기열 기능에서는 **실시간 처리 성능**을 강화할 수 있습니다.
대기열에 관한 내용은 STEP 14. 에서 다루도록 하겠습니다.
